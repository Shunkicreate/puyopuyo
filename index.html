<!DOCTYPE html>

<head>
    <link rel="stylesheet" href="style.css">
</head>

<body class="wrap">
    <div class="content">
        <div id="result"></div>
        <div class="inputWrap">
            <input id="textInput" />
        </div>
    </div>
    <script>
        const convertRemToPx = (rem) => {
            var fontSize = getComputedStyle(document.documentElement).fontSize;
            return rem * parseFloat(fontSize);
        }
        console.log("hehehe")
        const textInput = document.getElementById("textInput")
        let inputting = false
        textInput.addEventListener('input', (event) => {
            const lastInputTime = Date.now()
            const result = document.getElementById('result')
            result.classList.add('circle')
            result.innerText = event.target.value
            result.style.color = 'red'
            result.style.width = String(convertRemToPx(event.target.value.length + 1) /  2) + "px"
            if (inputting === false) {
                inputting = true
                const intervalID = setInterval(() => {
                    console.log("aa")
                    if (Date.now() - lastInputTime > 4) {
                        result.classList.remove('circle')
                        clearInterval(intervalID)
                        inputting = false
                    }
                }, 1000)
            }
        })
    </script>
</body>